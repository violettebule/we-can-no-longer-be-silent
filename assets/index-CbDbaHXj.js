const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/components-w_9jDLzG.js","assets/vendor-B2eBxjNJ.js"])))=>i.map(i=>d[i]);
import{r as u,F as N,u as A,a as D,b as U,c as O,d as q,j as s,e as p,Q as _,f as I,g as Q,A as z,C as b,h as $,B,R as K,i as C}from"./vendor-B2eBxjNJ.js";import{f as k,t as W,g as X,a as V,c as J,R as v,b as Y,d as G}from"./components-w_9jDLzG.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function c(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(t){if(t.ep)return;t.ep=!0;const e=c(t);fetch(t.href,e)}})();const H="modulepreload",M=function(r){return"/we-can-no-longer-be-silent/"+r},R={},Z=function(n,c,i){let t=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),o=(e==null?void 0:e.nonce)||(e==null?void 0:e.getAttribute("nonce"));t=Promise.all(c.map(d=>{if(d=M(d),d in R)return;R[d]=!0;const f=d.endsWith(".css"),y=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":H,f||(l.as="script",l.crossOrigin=""),l.href=d,o&&l.setAttribute("nonce",o),document.head.appendChild(l),f)return new Promise((w,x)=>{l.addEventListener("load",w),l.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}return t.then(()=>n()).catch(e=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=e,window.dispatchEvent(o),!o.defaultPrevented)throw e})},ee=()=>{const[r,n]=u.useState(!1);return u.useEffect(()=>{const c=k.map(({fontName:i})=>new N(i).load());Promise.all(c).then(()=>{window.dispatchEvent(new Event("resize")),n(!0)}).catch(i=>{console.error("Error loading fonts:",i)})},[]),r},P=(r,n)=>{A(r,n),u.useEffect(()=>()=>{},[r])},te=(r,n)=>{P("form-submissions",i=>{const t=W(i);r(e=>[...e,t]),n(e=>{const o=new Set(e);return o.add(t.timestamp),o}),setTimeout(()=>{n(e=>{const o=new Set(e);return o.delete(t.timestamp),o})},1e4)})},se=(r,n)=>{P("test-updates",()=>{const i={name:"Teresa",response:"This is my test response This is my test response This is my test response This is my test response",timestamp:X()};r(t=>[...t,i]),n(t=>{const e=new Set(t);return e.add(i.timestamp),e}),setTimeout(()=>{n(t=>{const e=new Set(t);return e.delete(i.timestamp),e})},5e3)})},ne=()=>{const r=D();P("sheet-update",()=>{r.invalidateQueries({queryKey:["data"]})})},re=u.lazy(()=>Z(()=>import("./components-w_9jDLzG.js").then(r=>r.D),__vite__mapDeps([0,1])));function F(){const[r,n]=U(),[c,i]=u.useState(r.get("lang")||"en");u.useEffect(()=>{n(a=>(a.set("lang",c),a))},[c,n]);const t=O(),e=new URLSearchParams(t.search),o=e.get("show"),d=e.get("show-desc"),[f,y]=u.useState([]),[l,w]=u.useState(new Set),x=u.useRef({}),{isLoading:T,error:L}=q({queryKey:["data"],queryFn:()=>G(y),staleTime:1/0}),[S,E]=u.useState(!0);if(te(y,w),se(y,w),ne(),!ee())return s.jsx("div",{className:"w-screen h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-xl",children:"Fonts loading..."})});if(T)return s.jsx("div",{children:"Loading..."});if(L)return s.jsxs("div",{children:["Error: ",L.message]});const g=V(f,o),j=J(g.length,!!l.size),h=Y(d);return s.jsxs(p.div,{layout:!0,className:"flex w-screen h-screen items-center flex-col",children:[h?s.jsx(u.Suspense,{fallback:s.jsx("div",{children:"Loading description..."}),children:s.jsx(re,{languagePref:c,setLanguagePref:i})}):null,s.jsx(p.div,{layout:!0,className:`flex grow p-0 bg-feminicidio bg-repeat ${h?"w-[80%] border-4 border-gray-100 max-h-[70%]":"w-full h-full"}`,children:s.jsxs(p.li,{layout:!0,className:`flex flex-col ${h?"w-full h-full":"w-screen h-screen"}`,children:[s.jsx(p.div,{layout:!0,className:"flex grow flex-wrap",onLayoutAnimationStart:()=>E(!1),onLayoutAnimationComplete:()=>E(!0),children:g.filter((a,m)=>m%2===0&&!l.has(a.timestamp)).map((a,m)=>s.jsx(v,{item:a,index:m,fontSize:j,textfitRefs:x,showText:S,showDescription:h,isFeatured:!1},a.timestamp))}),s.jsx(p.div,{layout:!0,className:`flex justify-around flex-wrap ${l.size>0?"min-h-[30%]":""}`,children:g.filter(a=>l.has(a.timestamp)).map((a,m)=>s.jsx(v,{item:a,index:m,fontSize:j,textfitRefs:x,showText:S,showDescription:h,isFeatured:!0},a.timestamp))}),s.jsx(p.div,{layout:!0,className:"flex grow flex-wrap",children:g.filter((a,m)=>m%2===1&&!l.has(a.timestamp)).map((a,m)=>s.jsx(v,{item:a,index:m,fontSize:j,textfitRefs:x,showText:S,showDescription:h,isFeatured:!1},a.timestamp))})]})})]})}const oe=new _,ae=new I.Realtime({key:"dDoULg.CBlbwg:iYgskWpW5sI4puyUDfHXAOfJ17X_DuyKVPb_QelkXNQ"});Q(document.getElementById("root")).render(s.jsx(u.StrictMode,{children:s.jsx(z,{client:ae,children:s.jsx(b,{channelName:"test-updates",children:s.jsx(b,{channelName:"sheet-update",children:s.jsx(b,{channelName:"form-submissions",children:s.jsx($,{client:oe,children:s.jsx(B,{children:s.jsxs(K,{children:[s.jsx(C,{path:"/",element:s.jsx(F,{})}),s.jsx(C,{path:"/*",element:s.jsx(F,{})})]})})})})})})})}));
